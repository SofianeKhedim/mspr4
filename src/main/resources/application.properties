# =============================================================================
# CONFIGURATION SPRING BOOT - CLIENT API
# =============================================================================

# Application metadata
spring.application.name=client-api

# Server configuration
server.port=8081

# Active profile
spring.profiles.active=prod

# Configuration JWT
app.jwt.secret=payetonkawa-super-secret-key-for-jwt-token-generation-2024-very-long-key
app.jwt.expiration=86400000

# =============================================================================
# DATABASE CONFIGURATION (H2 - Development)
# =============================================================================

# H2 Database connection
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=password
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# =============================================================================
# JPA/HIBERNATE CONFIGURATION
# =============================================================================

# Hibernate DDL mode (create-drop for development)
spring.jpa.hibernate.ddl-auto=create-drop

# Show SQL queries in logs
spring.jpa.show-sql=true

# Format SQL queries for better readability
spring.jpa.properties.hibernate.format_sql=true

# Hibernate dialect for H2
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# AJOUT: Configuration des logs en fichiers
logging.file.name=logs/payetonkawa-client-api.log
logging.file.path=logs

# AJOUT: Rotation des fichiers de logs
logging.logback.rollingpolicy.file-name-pattern=logs/payetonkawa-client-api.%d{yyyy-MM-dd}.%i.log.gz
logging.logback.rollingpolicy.max-file-size=50MB
logging.logback.rollingpolicy.max-history=30
logging.logback.rollingpolicy.total-size-cap=1GB

# Root logging level
logging.level.root=INFO

# Application specific logging
logging.level.com.example.clientapi=DEBUG

# Spring Security logging
logging.level.org.springframework.security=DEBUG

# SQL logging
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# Console logging pattern
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# AJOUT: Pattern pour les fichiers (sans couleurs ANSI)
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n

# =============================================================================
# ACTUATOR CONFIGURATION (Monitoring)
# =============================================================================

# # Expose health, info, metrics endpoints
# management.endpoints.web.exposure.include=health,info,metrics,loggers

# # Show detailed health information
# management.endpoint.health.show-details=always

# =============================================================================
# SECURITY CONFIGURATION (Basic)
# =============================================================================

# Disable Spring Security for now (will be configured later)
#spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration,org.springframework.boot.actuate.autoconfigure.security.servlet.ManagementWebSecurityAutoConfiguration

# =============================================================================
# VALIDATION CONFIGURATION
# =============================================================================

# Fail fast on validation errors
spring.validation.fail-fast=true

# =============================================================================
# JSON CONFIGURATION
# =============================================================================

# Include null values in JSON responses
spring.jackson.default-property-inclusion=always

# Date format for JSON serialization
spring.jackson.date-format=yyyy-MM-dd HH:mm:ss

# Timezone for JSON dates
spring.jackson.time-zone=Europe/Paris

# =============================================================================
# DEVELOPMENT TOOLS CONFIGURATION
# =============================================================================

# Enable LiveReload for development
spring.devtools.livereload.enabled=true

# Restart configuration
spring.devtools.restart.enabled=true